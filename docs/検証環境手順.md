# 検証環境手順
## 手順
### （初回のみ）メール設定
`./api/.env`を以下のように書き換える。
```env
# SMTP Settings
# Please rename to ".env"
#
SMTP_HOST = 192.168.0.50 # Your SMTP Server
SMTP_PORT = 25 # Default SMTP Port
SMTP_DOMAIN = harp-intern.local # Your Mail Domain
SMTP_TLS_ENABLE = false # true or false
SMTP_SSL_ENABLE = false # true or false
SMTP_STARTTLS_AUTO = true #true or false
SMTP_OPENSSL_VERIFY = none #

#If may use Authenticate option
#SMTP_AUTH =
#SMTP_AUTH_USER = #
#SMTP_AUTH_PASS = #

MAIL_FROM = Service Admin <noreply@harp-intern.local>

# Server URL for mail message
SERVER_PATH = "http://192.168.0.100:3000"

# hosts
HOSTS = "localhost"   # 環境に合わせる（ホスト名を入れる）
```

### （初回のみ）
```shell
docker network create r4fy-network-shared
docker-compose run web npm install
docker-compose run api bundle install
docker-compose run api rails db:migrate
docker-compose run api rails db:seed
```

### front設定
`./web/.env.local`を以下のように設定。
```js
NODE_ENV='local'

VUE_APP_API_ORIGIN='http://localhost:3000'  # 環境に合わせる
VUE_APP_PUBLIC_PATH=''  # 環境に合わせる
```

### ビルド
ビルドスクリプトを実行。
```shell
sh build.sh
```

### 実行
```
docker compose up -d api
```
