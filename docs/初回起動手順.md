# 初回起動手順

## 注意事項

1. Visual Studio Code でリポジトリを開き、「ターミナル＞新しいターミナル」でターミナルをを表示。
2. 右側のターミナルの種類が「powershell」であることを確認。
3. 以下のコマンドを順番に実行。**※コマンドを同時に実行しないこと！**

## 手順
### GitのConfigの追加
Gitのコマンドを実行できる場所で実行（SourceTree → ターミナル等）。
```shell
git config --local core.hooksPath .githooks
```

### Docker-Networkの作成
```shell
docker network create r4fy-network-shared
```

### フロント側の追加パッケージインストール
```shell
docker-compose run web npm install
```

### API側の追加パッケージインストール
```shell
docker-compose run api bundle install
```

### API側のデータベース初期化
```shell
docker-compose run api rails db:migrate
docker-compose run api rails db:seed
```

#### 初期アカウント情報
- name: `管理者`
- email: `admin@mail.local`
- password: `password`

### メールの設定
`/api/config/.env` にファイルを作成し、以下の内容を記載
```env
# SMTP Settings
# Please rename to ".env"
#
SMTP_HOST = mail # Your SMTP Server
SMTP_PORT = 1025 # Default SMTP Port
SMTP_DOMAIN = mail.local # Your Mail Domain
SMTP_TLS_ENABLE = false # true or false
SMTP_SSL_ENABLE = false # true or false
SMTP_STARTTLS_AUTO = true #true or false
SMTP_OPENSSL_VERIFY = none #

#If may use Authenticate option
#SMTP_AUTH = 
#SMTP_AUTH_USER = #
#SMTP_AUTH_PASS = #

MAIL_FROM = Service Admin <noreply@example.com>
```

### 起動してみる
```
docker-compose up
```
立ち上がったら localhost:3000 と localhost:8080 と localhost:1080 にブラウザからアクセスして確認。

### 以下の拡張機能を VSCode にインストール（すでにインストール済みであればスキップ）
- ESLint (`dbaeumer.vscode-eslint`)
- Prettier (`esbenp.prettier-vscode`)
- ruby-rubocop (`misogi.ruby-rubocop`)
